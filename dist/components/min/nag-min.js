!function($,e,o,t){"use strict";e="undefined"!=typeof e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.nag=function(o){var n=$(this),i=n.selector||"",s=(new Date).getTime(),a=[],r=arguments[0],l="string"==typeof r,c=[].slice.call(arguments,1),g;return n.each(function(){var n=$.isPlainObject(o)?$.extend(!0,{},$.fn.nag.settings,o):$.extend({},$.fn.nag.settings),u=n.className,d=n.selector,m=n.error,f=n.namespace,p="."+f,h=f+"-module",b=$(this),v=b.find(d.close),y=$(n.context?n.context:"body"),k=this,S=b.data(h),w,x,T,M,O,I,A,F,P,j=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,0)};P={initialize:function(){P.verbose("Initializing element"),b.on("click"+p,d.close,P.dismiss).data(h,P),n.detachable&&b.parent()[0]!==y[0]&&b.detach().prependTo(y),n.displayTime>0&&setTimeout(P.hide,n.displayTime),P.show()},destroy:function(){P.verbose("Destroying instance"),b.removeData(h).off(p)},show:function(){P.should.show()&&!b.is(":visible")&&(P.debug("Showing nag",n.animation.show),"fade"==n.animation.show?b.fadeIn(n.duration,n.easing):b.slideDown(n.duration,n.easing))},hide:function(){P.debug("Showing nag",n.animation.hide),"fade"==n.animation.show?b.fadeIn(n.duration,n.easing):b.slideUp(n.duration,n.easing)},onHide:function(){P.debug("Removing nag",n.animation.hide),b.remove(),n.onHide&&n.onHide()},dismiss:function(e){n.storageMethod&&P.storage.set(n.key,n.value),P.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return n.persist?(P.debug("Persistent nag is set, can show nag"),!0):P.storage.get(n.key)!=n.value.toString()?(P.debug("Stored value is not set, can show nag",P.storage.get(n.key)),!0):(P.debug("Stored value is set, cannot show nag",P.storage.get(n.key)),!1)}},get:{storageOptions:function(){var e={};return n.expires&&(e.expires=n.expires),n.domain&&(e.domain=n.domain),n.path&&(e.path=n.path),e}},clear:function(){P.storage.remove(n.key)},storage:{set:function(o,i){var s=P.get.storageOptions();if("localstorage"==n.storageMethod&&e.localStorage!==t)e.localStorage.setItem(o,i),P.debug("Value stored using local storage",o,i);else if("sessionstorage"==n.storageMethod&&e.sessionStorage!==t)e.sessionStorage.setItem(o,i),P.debug("Value stored using session storage",o,i);else{if($.cookie===t)return void P.error(m.noCookieStorage);$.cookie(o,i,s),P.debug("Value stored using cookie",o,i,s)}},get:function(o,i){var s;return"localstorage"==n.storageMethod&&e.localStorage!==t?s=e.localStorage.getItem(o):"sessionstorage"==n.storageMethod&&e.sessionStorage!==t?s=e.sessionStorage.getItem(o):$.cookie!==t?s=$.cookie(o):P.error(m.noCookieStorage),"undefined"!=s&&"null"!=s&&s!==t&&null!==s||(s=t),s},remove:function(o){var i=P.get.storageOptions();"localstorage"==n.storageMethod&&e.localStorage!==t?e.localStorage.removeItem(o):"sessionstorage"==n.storageMethod&&e.sessionStorage!==t?e.sessionStorage.removeItem(o):$.cookie!==t?$.removeCookie(o,i):P.error(m.noStorage)}},setting:function(e,o){if(P.debug("Changing setting",e,o),$.isPlainObject(e))$.extend(!0,n,e);else{if(o===t)return n[e];$.isPlainObject(n[e])?$.extend(!0,n[e],o):n[e]=o}},internal:function(e,o){if($.isPlainObject(e))$.extend(!0,P,e);else{if(o===t)return P[e];P[e]=o}},debug:function(){!n.silent&&n.debug&&(n.performance?P.performance.log(arguments):(P.debug=Function.prototype.bind.call(console.info,console,n.name+":"),P.debug.apply(console,arguments)))},verbose:function(){!n.silent&&n.verbose&&n.debug&&(n.performance?P.performance.log(arguments):(P.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),P.verbose.apply(console,arguments)))},error:function(){n.silent||(P.error=Function.prototype.bind.call(console.error,console,n.name+":"),P.error.apply(console,arguments))},performance:{log:function(e){var o,t,i;n.performance&&(o=(new Date).getTime(),i=s||o,t=o-i,s=o,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":t})),clearTimeout(P.performance.timer),P.performance.timer=setTimeout(P.performance.display,500)},display:function(){var e=n.name+":",o=0;s=!1,clearTimeout(P.performance.timer),$.each(a,function(e,t){o+=t["Execution Time"]}),e+=" "+o+"ms",i&&(e+=" '"+i+"'"),(console.group!==t||console.table!==t)&&a.length>0&&(console.groupCollapsed(e),console.table?console.table(a):$.each(a,function(e,o){console.log(o.Name+": "+o["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(e,o,n){var i=S,s,a,r;return o=o||c,n=k||n,"string"==typeof e&&i!==t&&(e=e.split(/[\. ]/),s=e.length-1,$.each(e,function(o,n){var r=o!=s?n+e[o+1].charAt(0).toUpperCase()+e[o+1].slice(1):e;if($.isPlainObject(i[r])&&o!=s)i=i[r];else{if(i[r]!==t)return a=i[r],!1;if(!$.isPlainObject(i[n])||o==s)return i[n]!==t?(a=i[n],!1):(P.error(m.method,e),!1);i=i[n]}})),$.isFunction(a)?r=a.apply(n,o):a!==t&&(r=a),$.isArray(g)?g.push(r):g!==t?g=[g,r]:r!==t&&(g=r),a}},l?(S===t&&P.initialize(),P.invoke(r)):(S!==t&&S.invoke("destroy"),P.initialize())}),g!==t?g:this},$.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},$.extend($.easing,{easeOutQuad:function(e,o,t,n,i){return-n*(o/=i)*(o-2)+t}})}(jQuery,window,document);